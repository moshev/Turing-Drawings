<html>
    <head>

        <title>Turing Drawings</title>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
        <meta http-equiv="encoding" content="utf-8">
        <meta name="keywords" content="javascript, html5, canvas, Alan Turing, Turing machine, drawing, evolutionary">
        <meta name="description" content="">
        <script language="javascript" src="utils-html.js"></script>
        <script language="javascript" src="utils-misc.js"></script>
        <script language="javascript" src="main.js"></script>
        <script language="javascript" src="programs.js"></script>        

        <link rel=stylesheet href="stylesheet.css" type="text/css">

    </head>
    <body>

        <a href="https://github.com/maximecb/Turing-Drawings">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="forkme.png" alt="Fork me on GitHub">
        </a>

        <div class="title">
        Turing Drawings
        </div>

        <div align="center">
        <table>
        <tr>
            <!-- canvas column -->
            <td>
                <div class="canvas_frame" style="width:1024px; height:1024px;">
                    <canvas id="canvas">
                        Your browser does not support the canvas element.
                    </canvas>
                </div>
            </td>
        
            <!-- spacer column -->
            <td width="10">
            </td>

            <!-- controls column -->
            <td style="text-align:center; vertical-align: text-top;">
                <form name="params" action="">

                    <div style="margin-top:8px; margin-bottom:8px;">
                        Num states:
                        <input id="numStates" type="text" size="3" value="4">
                        Num symbols:
                        <input id="numSymbols" type="text" size="3" value="3">
                    </div>

                    <div style="margin-top:8px; margin-bottom:8px;">
                        <button type="button" onclick="randomProg();">Random</button>
                        <button type="button" onclick="restartProg();">Restart</button>
                        <button type="button" id="slower" onclick="bumpSpeed(-1);">Slower</button>
                        <button type="button" id="faster" onclick="bumpSpeed(+1);">Faster</button>
                    </div>

                    <div style="margin-top:16px; margin-bottom:16px; width:400px; text-align: justify;">
                    Turing Drawings uses randomly generated Turing machines to produce
                    drawings on a canvas, as a form of generative art. The typical
                    Turing machine formulation manipulates symbols on a one-dimensional
                    tape. Turing Drawings uses machines that operate on a finite 2D grid,
                    where each grid cell can contain one symbol which corresponds to a
                    color value. This 2D grid is represented in the canvas shown at the left,
                    which is dynamically updated as the Turing machine iterates.
                    <br><br>
                    You can generate new drawings by pressing the "Random" button above. If
                    you find a drawing you like, and would like to share it online, you can
                    do so by copying the custom URL shown in the text area below.
                    </div>

                    <div style="margin-top:8px; margin-bottom:8px;">
                        <div>
                        Shareable URL for this drawing:
                        </div>
                        <div>
                        <input id="shareURL" type="text" size="42" value="" readonly>
                        </div>
                    </div>

                </form>
            </td>

        </tr>
        </table>
        </div>

        <div class="copyright">
        Copyright &copy; 2012 Maxime Chevalier-Boisvert
        </div>

        <div style="margin-top:16px; margin-bottom:16px; width:400px;
        text-align: justify;">
          <h3>Addendum by Darius Bacon</h3>

          <p>This is <a
          href="https://github.com/darius/Turing-Drawings">an asm.js fork</a>
          of Maxime Chevalier-Boisvert's <a
          href="http://maximecb.github.com/Turing-Drawings/#">original
          page</a> (see original <a
          href="http://pointersgonewild.wordpress.com/2012/12/31/turing-drawings/">blog
          post</a>). The original code
          interprets the Turing machine; this code compiles it to <a
          href="http://asmjs.org/">asm.js</a>. 

          (I also added the Slower/Faster buttons and the ring
          around the machine's head visible at slow speeds.)
          
          <p>Some timings on my laptop (a ThinkPad X1 Carbon running
          Firefox Nightly (2013 March) and Chrome 26, on Windows 7)
          for a particular Turing machine:

          <table cellspacing="10px">
          <th>Version of the code<th>Firefox time (nsec/step)<th>Chrome time (nsec/step)
          <tr><td><a href="https://github.com/maximecb/Turing-Drawings">Original</a><td>10.5<td>69
          <tr><td><a href="https://github.com/darius/Turing-Drawings">Branch <code>master</code><td>4.5<td>6.0
          <tr><td><a href="https://github.com/darius/Turing-Drawings/tree/asm.js">Branch <code>asm.js</code></a><td>2.7<td>4.8
          </table>

          (Branch <code>master</code> includes some improvements that
          apply just as well without asm.js: using local variables in
          the inner loop, compiling each Turing machine to a custom
          Javascript function, and skipping writes to the state or the
          grid where they're known to already hold the new value.)

          <p>The frame rate on this page should be pretty close to the
          original because in both versions it's limited by design, to
          keep the action visible and the UI responsive. I've upped
          the framerate while reducing the number of steps/frame to
          keep the speed roughly constant, to take advantage of the
          faster computation. (The code doesn't account for time spent
          on screen update or waiting on <code>setInterval()</code>,
          in either version.) You might prefer to leave the framerate
          untouched and reap the advantage as a cooler CPU. (N.B. this
          page chews up CPU even after the grid stops changing &mdash;
          the Turing machine is just rewriting the same never-changing
          bits.)
          
          <p>One more change turned out to be needed: calls to the
          inner loop run much larger chunks (50,000 steps instead of
          5,000). Each call into an asm.js function takes about 2 msec
          (at this writing): at the original finer granularity almost
          all the time was going into the asm.js trampoline, not
          actually computing anything.

          <p>Examples (from the README). Because the original code
          doesn't notice when you click to a new #fragment on the
          same page, and I don't want to mess with it, I've made the
          URL trivially different from the one you probably came in to
          (www.wry.me vs. wry.me). Just go back to the wry.me page to
          click on another example.
<ul>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#5,4,4,2,1,1,3,2,4,3,1,2,2,3,1,2,1,3,2,0,2,2,3,2,3,0,2,3,2,4,2,2,0,2,0,1,1,0,2,3,0,1,2,1,2,3,3,3,2,0,1,1,3,2,2,0,2,2,3,3,2,0">Fractal</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#4,3,0,1,2,3,1,0,1,1,0,2,2,1,3,2,2,0,1,3,0,2,0,1,2,2,2,2,0,0,1,3,3,1,3,2,2,0">Scan</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#6,4,1,2,0,1,3,1,4,3,3,1,3,0,5,2,1,4,2,0,2,1,1,4,1,0,1,3,0,5,1,3,1,1,3,0,1,1,2,3,3,5,1,1,3,1,0,3,1,2,1,1,1,1,3,3,3,2,2,2,3,3,2,1,3,5,3,0,2,3,2,4,1,1">Matrix</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#3,3,1,1,3,0,1,1,2,1,2,2,2,2,1,2,2,1,1,3,1,1,0,2,1,1,1,2,0">Movement</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#2,5,1,1,2,1,3,0,1,4,2,1,2,1,1,4,2,0,2,0,0,2,2,0,3,1,1,2,3,0,3,2">Computation</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#3,3,2,1,2,1,2,1,0,2,1,2,1,3,1,1,1,1,2,0,1,1,3,2,2,0,0,1,1">Complex</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#4,3,2,2,2,1,1,0,3,1,2,2,2,1,1,1,0,3,2,3,1,1,0,0,1,1,2,2,2,1,1,2,1,2,1,2,1,3">Quads</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#4,3,0,2,3,3,1,3,2,1,0,3,1,0,3,2,3,2,1,2,0,1,3,1,1,2,1,1,0,0,1,3,2,2,0,0,2,1">Fins</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#4,3,3,1,0,1,2,2,1,2,3,1,1,3,3,1,0,3,1,3,3,1,3,2,2,3,0,1,0,3,2,0,3,2,2,2,1,0">Blades</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#4,3,3,1,0,2,2,3,1,2,0,1,1,3,0,1,3,2,1,3,2,2,3,2,1,2,2,2,3,2,2,0,1,1,2,2,2,0">Chaos</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#3,6,2,2,3,2,4,0,0,1,0,2,1,2,1,1,0,1,2,3,2,3,0,2,1,0,2,5,3,2,5,2,2,4,1,1,5,0,2,4,3,0,4,0,0,1,1,2,1,3,2,1,0,2,2,0">Rapids</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#3,4,2,2,0,1,2,0,2,1,0,1,1,1,2,3,0,0,1,1,0,2,3,0,3,0,1,2,2,1,1,2,2,2,1,0,3,0">Filler</a></li>
<li><a href="http://www.wry.me/hacking/Turing-Drawings/#4,3,3,1,2,3,1,0,3,1,3,1,2,3,2,2,0,1,2,1,3,2,3,0,2,0,3,1,2,2,2,2,3,1,1,1,2,3">Seizures</a></li>
</ul>


        </div>

    </body>
</html>

